/*尺寸配置*/
@screen-desktop: 1024px;
@screen-tablet: 768px;
@content-width: 1000px;
/*颜色表*/
@c-basic: #E45755;
@c-red: #EB7D7C;

html{
  font-family: "Arial", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi Micro Hei", "sans-serif";
}
body{
  margin: 0;
}

/*工具样式*/
.clearfix{
  &:after,&:before{
    content: '';
    display: table;
    clear: both;
  }
}
.pos-center{
  margin-left: auto;
  margin-right: auto;
}
.container{
  .pos-center;
  width: @content-width;
}
.in-making{
  margin: 100px auto;
  height: 407px;
  .background-image-2x('../images/in_making.png', 480px, 407px);
  background-position: center center;
}
.not-found-elephant{
  margin: 120px auto;
  height: 558px;
  .background-image-2x('../images/404.png', 492px, 558px);
  background-position: center center;
}
.hide{
  display: none;
}

/*头部*/
.header{
  position: relative;
  margin: 0 50px;
  z-index: 2;
  .clearfix;
  .transition(~'visibility .3s, opacity .3s');
  &.hide{
    display: block;
    visibility: hidden;
    .opacity(0);
  }
  .logo-container{
    @size: 108px;
    position: fixed;
    z-index: 10;
    top: @size/3;
    width: @size;
    height: @size;
    &.flipped{
      .back {
        .transform(rotateX(0deg));
      }
      .front {
        .transform(rotateX(180deg));
      }
    }
    .front,
    .back{
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: #fff;
      .box-shadow(0 5px 10px rgba(0,0,0,.15));
      .border-radius(50%);
      .backface-visibility(hidden);
      .transition(ease-in-out .3s);
    }
    .front{
      .logo{
        margin-top: 5px;
        margin-left: -8px;
        display: block;
        width: 107px;
        height: 70px;
        .background-image-2x('../images/logo.png', 107px, 70px);
      }
    }
    .back{
      .transform(rotateX(180deg));
      .background-image-2x('../images/scroll_top_icon.png', 56px, 57px);
      background-position: center center;
    }
  }
  .navbar-container{
    @gap: 200px; // logo 与 导航之间的间隙
    margin-left: @gap;
    padding-bottom: 10px;
    overflow: hidden;
    .navbar{
      list-style: none;
      margin: 45px 0 0;
      padding: 0;
      float: right;
      li{
        float: left;
        margin: 0 25px;
        &:hover{
          a{
            color: @c-red;
          }
        }
        a{
          display: block;
          width: 70px;
          height: 55px;
          line-height: 55px;
          text-align: center;
          font-size: 20px;
          color: #44494F;
          text-decoration: none;
        }
        &.active{
          position: relative;
          &:before, &:after{
            content: '';
            position: absolute;
            display: block;
            margin-top: -1px;
            top: 100%;
            width: 1600px;
            height: 1px;
            background-color: #D6D6D6;
          }
          &:before{
            right: 100%;
          }
          &:after{
            left: 100%;
          }
          a{
            color: @c-red;
            &:after{
              content: '';
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              bottom: -10px;
              display: block;
              .background-image-2x('../images/navbar_active.png', 70px, 65px);
            }
          }
        }
      }
      &.dark-navbar{
        li{
          a{
            color: rgba(255,255,255,.3);
            &:hover{
              color: rgba(255,255,255,.6);
            }
          }
          &.active{
            &:before, &:after{
              display: none;
            }
            a:after{
              .background-image-2x('../images/navbar_dark_active.png', 70px, 65px);
            }
          }
        }
      }
    }
  }
}
/*版权部分*/
.footer{
  padding: 20px 0;
  text-align: center;
  font-size: 14px;
  line-height: 14px;
  color: #666;
  a{
    margin: 0 3px;
    display: inline-block;
    color: #666;
    text-decoration: none;
    &:hover{
      color: @c-basic;
      text-decoration: underline;
    }
  }
}
.project-list-footer{
  padding: 80px 0 20px;
  color: #fff;
  background-color: #2E343A;
  a{
    color: #fff;
  }
}
.viewpoint-footer{
  margin-top: 80px;
  padding: 150px 0 20px;
  color: #fff;
  .background-image-2x('../images/viewpoint_footer_bg.png', 1366px, 63px, repeat-x);
  background-color: #3C4147;
  a{
    color: #fff;
  }
}
.about-footer{
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 40px 0;
  color: #A3A3A4;
  background-color: #D5D6D8;
  a{
    color: #A3A3A4;
  }
}

/*首页*/
.homepage-container{
  @item-height: 600px;
  margin-bottom: 60px;
  border-bottom: 4px solid @c-basic;
  .clearfix;
  .soldier, .abstack-text, .elephant{
    float: left;
    margin-bottom: -2px;
  }
  .soldier{
    width: 160px;
    height: @item-height;
    .background-image-2x('../images/soldier.png', 68px, 104px);
    background-position: center bottom;
  }
  .abstack-text{
    @color: #2E343B;
    position: relative;
    width: 340px;
    height: @item-height;
    &.flipped{
      .back {
        .transform(rotateY(0deg));
      }
      .front {
        .transform(rotateY(180deg));
      }
    }
    &:hover{
      .back {
        .transform(rotateY(180deg));
      }
      .front {
        .transform(rotateY(0deg));
      }
    }
    .front,
    .back{
      position: absolute;
      top: 50px;
      left: 50%;
      .backface-visibility(hidden);
      .transition(cubic-bezier(0.175, 0.885, 0.32, 1.275) .7s);
    }
    .front{
      margin-left: -143px;
      width: 287px;
      height: 354px;
      .background-image-2x('../images/abstack_name.png', 287px, 354px);
      .front-line-1,
      .front-line-2,
      .front-line-3,
      .front-line-4,
      .front-line-5,
      .front-line-6{
        position: absolute;
        background-color: @color;
      }
      .front-line-1{
        top: 64px;
        left: 90px;
        width: 37px;
        height: 5px;
        .animation(.1s ease-out name-line-1);
      }
      .front-line-2{
        top: 69px;
        left: 122px;
        width: 5px;
        height: 49px;
        .animation(.2s ease-out name-line-2);
      }
      .front-line-3{
        top: 113px;
        right: 165px;
        width: 17px;
        height: 5px;
        .animation(.3s ease-out name-line-3);
      }
      .front-line-4{
        top: 118px;
        left: 105px;
        width: 5px;
        height: 120px;
        .animation(.7s ease-out name-line-4);
      }
      .front-line-5{
        top: 233px;
        left: 110px;
        width: 51px;
        height: 5px;
        .animation(2s ease-out name-line-5);
      }
      .front-line-6{
        top: 109px;
        left: 259px;
        width: 14px;
        height: 8px;
        .animation(2s ease-out name-line-6);
      }
    }
    .back{
      margin-left: -133px;
      width: 265px;
      height: 355px;
      .transform(rotateY(180deg));
      .background-image-2x('../images/slogan.png', 265px, 355px);
    }
  }
  .elephant{
    width: 500px;
    height: @item-height;
    .background-image-2x('../images/elephant_machine.png', 492px, 255px);
    background-position: center bottom;
  }
  .skyline{
    margin-top: -16px;
    margin-bottom: -4px;
    height: 20px;
    .background-image-2x('../images/skyline.png', 1366px, 19px);
    background-color: #fff;
    background-position: center bottom;
  }
}

/*项目页面*/
.project-list-start{
  margin-top: 60px;
}
.project-list-start,.project-list-end{
  display: block;
  max-width: 100%;
  pointer-events: none;
}
.project-list{
  list-style: none;
  margin: 50px 0 0;
  padding: 0;
  .clearfix;
  li{
    float: left;
    width: 50%;
    text-align: center;
    a{
      position: relative;
      display: block;
      margin: 0 20px 50px;
      text-decoration: none;
      img{
        max-width: 100%;
        pointer-events: none;
      }
      img.project-active-pic{
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        .opacity(0);
        .transition(~'opacity .3s, visibility .3s');
        visibility: hidden;
      }
      h2{
        margin: 20px 0 10px;
        color: #333333;
        font-size: 20px;
        line-height: 20px;
        font-weight: normal;
        .transition(color .2s);
      }
      p{
        margin: 10px 0;
        height: 36px;
        color: #999999;
        font-size: 14px;
        line-height: 18px;
      }
      &:hover{
        img.project-active-pic{
          .opacity(100);
          visibility: visible;
        }
        h2{
          color: @c-basic;
        }
      }
    }
  }
}

/*观点样式*/
.viewpoint-header{
  margin: 50px 0 100px;
  .pos-center;
  width: 493px;
  height: 573px;
  .background-image-2x('../images/viewpoint_header.jpg', 493px, 573px);
}
.viewpoint-item{
  margin: 30px 50px;
  .clearfix;
  h2{
    margin: 0 0 35px;
    color: #646464;
    font-size: 36px;
    line-height: 28px;
    font-weight: normal;
  }
  p{
    font-size: 18px;
    line-height: 30px;
    color: #666666;
  }
  .viewpoint-item-tools{
    float: right;
    position: relative;
    margin-left: 20px;
    .viewpoint-item-pic{
      position: relative;
      z-index: 1;
      width: 483px;
      height: 477px;
      .background-image-2x('../images/viewpoint_tools.png', 483px, 477px);
    }
    .fish{
      position: absolute;
      top: 60px;
      right: -60px;
      width: 109px;
      height: 117px;
      .transform-origin(0 0);
      .animation(fish-shake cubic-bezier(0.645, 0.045, 0.355, 1) infinite alternate 1.5s);
      .background-image-2x('../images/viewpoint_fish.png', 109px, 117px);
    }
    + h2{
      padding-top: 150px;
    }
  }
  .viewpoint-item-ue{
    position: relative;
    float: left;
    margin-right: 160px;
    .viewpoint-item-pic{
      position: relative;
      z-index: 1;
      width: 466px;
      height: 475px;
      .background-image-2x('../images/viewpoint_ue.png', 466px, 475px);
    }
    .sword{
      position: absolute;
      top: 123px;
      right: -142px;
      width: 317px;
      height: 124px;
      .transform-origin(left bottom);
      .animation(sword-wave cubic-bezier(0.77, 0, 0.175, 1) infinite alternate .6s);
      .background-image-2x('../images/viewpoint_sword.png', 317px, 124px);
    }
    + h2{
      padding-top: 120px;
    }
  }
  .viewpoint-item-delivery{
    position: relative;
    float: right;
    margin-left: 20px;
    .viewpoint-item-pic{
      position: relative;
      z-index: 1;
      width: 570px;
      height: 382px;
      .background-image-2x('../images/viewpoint_delivery.png', 570px, 382px);
    }
    .material{
      position: absolute;
      top: 211px;
      left: 160px;
      width: 58px;
      height: 62px;
      .animation(material-transport linear 6s infinite);
      .background-image-2x('../images/viewpoint_material.png', 58px, 62px);
    }
    .diamond{
      position: absolute;
      top: -5px;
      right: 92px;
      width: 51px;
      height: 57px;
      .animation(diamond-producing ease-in-out .6s infinite alternate);
      .background-image-2x('../images/viewpoint_diamond.png', 51px, 57px);
    }
    + h2{
      padding-top: 100px;
    }
  }
}

/*关于我们*/
#about-scroll-container{
  margin-top: -110px;
  &.loading{
    &:after{
      @width: 280px;
      @height: @width/350*50;
      content: attr(percent) '%';
      position: absolute;
      top: 50%;
      left: 50%;
      margin-left: -@width/2;
      margin-top: -@height/2;
      display: block;
      width: @width;
      height: @height;
      font-family: Georgia;
      font-size: 26px;
      text-align: center;
      line-height: @height - 5;
      color: #555;
      text-indent: 110px;
      background: url('../images/loading.png') no-repeat;
      background-size: 100% auto;
      .border-radius(5px);
    }
  }
  h2{
    font-size: 36px;
    line-height: 36px;
  }
  > section{
    overflow: hidden;
  }
  // 过渡视频页
  .video-container{
    position: relative;
    height: 100%;
    z-index: 0;
    video{
      position: absolute;
      top: 50%;
      left: 50%;
      min-width: 100%;
      min-height: 100%;
      pointer-events: none;
      .transform(~'translateX(-50%) translateY(-50%)');
    }
  }
  // 团队页
  .about-scroll-team{
    background-color: #222;
    h2{
      color: #555555;
    }
    .container{
      position: relative;
      height: 100%;
    }
    .team-member-container{
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      bottom: 0;
      margin-top: -330px;
    }
    .team-item{
      position: relative;
      z-index: 2;
      top: 60px;
      float: left;
      cursor: pointer;
      .transition(background .3s);
      .background-image-2x('../images/about_team.png', 1657px, 390px);
      &:hover{
        z-index: 3!important;
        .background-image-2x('../images/about_team_active.png', 1657px, 390px);
        .team-item-intro{
          bottom: 103%;
          .opacity(100);
          visibility: visible;
        }
      }
      &.member-1{
        margin-top: 100px;
        margin-left: -15px;
        width: 116px;
        height: 384px;
        background-position: 0 -6px;
      }
      &.member-2{
        z-index: 0;
        margin-top: 105px;
        margin-left: -30px;
        width: 109px;
        height: 323px;
        background-position: -130px -66px;
      }
      &.member-3{
        margin-top: 140px;
        margin-left: -35px;
        width: 117px;
        height: 346px;
        background-position: -254px -43px;
      }
      &.member-4{
        z-index: 1;
        margin-top: 110px;
        margin-left: -27px;
        width: 145px;
        height: 352px;
        background-position: -390px -38px;
      }
      &.member-5{
        z-index: 0;
        margin-top: 35px;
        margin-left: -50px;
        width: 113px;
        height: 328px;
        background-position: -545px -62px;
      }
      &.member-6{
        margin-top: 115px;
        margin-left: -48px;
        width: 126px;
        height: 374px;
        background-position: -672px -16px;
      }
      &.member-7{
        margin-top: 125px;
        margin-left: -30px;
        width: 125px;
        height: 371px;
        background-position: -811px -19px;
      }
      &.member-8{
        z-index: 0;
        margin-top: 12px;
        margin-left: -67px;
        width: 116px;
        height: 372px;
        background-position: -949px -18px;
      }
      &.member-9{
        margin-top: 130px;
        margin-left: -52px;
        width: 115px;
        height: 386px;
        background-position: -1081px -4px;
      }
      &.member-10{
        z-index: 1;
        margin-top: 70px;
        margin-left: -44px;
        width: 133px;
        height: 390px;
        background-position: -1209px 0;
      }
      &.member-11{
        z-index: 0;
        margin-top: 0px;
        margin-left: -61px;
        width: 140px;
        height: 363px;
        background-position: -1357px -26px;
      }
      &.member-12{
        margin-top: 100px;
        margin-left: -44px;
        width: 146px;
        height: 376px;
        background-position: -1511px -14px;
      }
      .team-item-intro{
        @triangle-size: 10px;
        position: absolute;
        left: 0;
        bottom: 100%;
        width: 170px;
        padding: 10px;
        color: #fff;
        background-color: #222;
        border: 2px solid #fff;
        visibility: hidden;
        .border-radius(10px);
        .opacity(0);
        .transition(~'visibility .3s, bottom .3s');
        &:before,
        &:after{
          content: '';
          position: absolute;
          top: 100%;
          left: 40px;
          display: block;
          width: 0;
          height: 0;
        }
        &:before{
          border: @triangle-size solid transparent;
          border-top-color: #fff;
        }
        &:after{
          margin-left: 4px;
          border: (@triangle-size - 4) solid transparent;
          border-top-color: #222;
        }
        h3{
          margin: 0 0 5px;
          font-size: 16px;
          line-height: 16px;
        }
        p{
          margin: 0;
          font-size: 14px;
          line-height: 18px;
        }
        a{
          color: #fff;
          &:hover{
            color: @c-basic;
          }
        }
      }
    }
  }
  // 历程页
  .about-scroll-routes{
    background: #222 center bottom;
    .background-image-2x('../images/about_routes_end.png', 1366px, 173px, repeat-x);
    h2{
      color: #555555;
    }
    .timeline{
      @line-width: 4px;
      position: absolute;
      left: 50%;
      top: 120px;
      bottom: 0;
      margin-left: -@line-width/2;
      width: @line-width;
      height: 100%;
      background-color: #fff;
    }
    .timeline-item{
      @dot-size: 20px;
      @dot-border-size: 4px;
      position: relative;
      color: #fff;
      margin-top: 30px;
      text-align: center;
      h3{
        margin: 0 0 10px;
        font-size: 40px;
        line-height: 40px;
      }
      p{
        margin: 0;
        font-size: 18px;
        line-height: 22px;
        color: #ddd;
      }
      &.left, &.right{
        &:after{
          content: '';
          position: absolute;
          top: 5px;
          display: block;
          width: @dot-size;
          height: @dot-size;
          background-color: #282828;
          border: @dot-border-size solid #fff;
          .border-radius(50%);
        }
      }
      &.left{
        margin-right: 50%;
        padding-right: 60px;
        text-align: right;
        &:after{
          right: -@dot-size/2 - @dot-border-size;
        }
      }
      &.right{
        margin-left: 50%;
        padding-left: 60px;
        text-align: left;
        &:after{
          left: -@dot-size/2 - @dot-border-size;
        }
      }
      &.big-dot{
        @gap: 60px;
        margin-top: @gap;
        margin-bottom: @gap;
        @size: @dot-size + 18;
        &:after{
          top: -4px;
          width: @size;
          height: @size;
          border-width: @dot-border-size;
        }
        &.left:after{
          right: -@size/2 - @dot-border-size;
        }
        &.right:after{
          left: -@size/2 - @dot-border-size;
        }
      }
    }
  }
  // 联系页
  .about-scroll-contact{
    position: relative;
    .container{
      height: 100%;
      .background-image-2x('../images/about_contact_map.jpg', 460px, 485px);
      background-position: left center;
      .contact-info{
        position: absolute;
        top: 25%;
        left: 50%;
        h2{
          margin: 0 0 15px;
          color: #666;
        }
        p{
          margin: 0;
          font-size: 16px;
          line-height: 20px;
          color: #999;
        }
        ul{
          margin: 20px 0 0;
          padding-left: 0;
          list-style: none;
          li{
            padding-left: 60px;
            height: 50px;
            line-height: 50px;
            color: #666;
            background-position: 5px center;
            a{
              color: #666;
              text-decoration: none;
              &:hover{
                color: @c-basic;
                text-decoration: underline;
              }
            }
            &.tel{
              .background-image-2x('../images/icon_contact_tel.png', 25px, 25px);
            }
            &.email{
              .background-image-2x('../images/icon_contact_email.png', 25px, 19px);
            }
            &.blog{
              .background-image-2x('../images/icon_contact_blog.png', 25px, 25px);
            }
            &.addr{
              .background-image-2x('../images/icon_contact_addr.png', 25px, 33px);
            }
          }
        }
      }
    }
  }
}

/*函数类工具*/
/*圆角*/
.border-radius(@value){
  -webkit-border-radius: @value;
  -o-border-radius: @value;
  -moz-border-radius: @value;
  -ms-border-radius: @value;
  border-radius: @value;
}
/*透明度*/
.opacity(@value){
  opacity: @value/100;
  filter: ~"alpha(opacity=@{value})";
}
/*过渡*/
.transition(@value){
  -webkit-transition: @value;
  -o-transition: @value;
  -moz-transition: @value;
  -ms-transition: @value;
  transition: @value;
}
/*变换*/
.transform(@value){
  -webkit-transform: @value;
  -o-transform: @value;
  -moz-transform: @value;
  -ms-transform: @value;
  transform: @value;
}
/*变换方式*/
.transform-style(@value){
  -webkit-transform-style: @value;
  -o-transform-style: @value;
  -moz-transform-style: @value;
  -ms-transform-style: @value;
  transform-style: @value;
}
/*变换起点*/
.transform-origin(@value){
  -webkit-transform-origin: @value;
  -o-transform-origin: @value;
  -moz-transform-origin: @value;
  -ms-transform-origin: @value;
  transform-origin: @value;
}
/*动画*/
.animation(@value){
  -webkit-animation: @value;
  -o-animation: @value;
  -moz-animation: @value;
  -ms-animation: @value;
  animation: @value;
}
/*背面显示属性*/
.backface-visibility(@value){
  -webkit-backface-visibility: @value;
  -o-backface-visibility: @value;
  -moz-backface-visibility: @value;
  -ms-backface-visibility: @value;
  backface-visibility: @value;
}
/*盒子阴影*/
.box-shadow(@value){
  -webkit-box-shadow: @value;
  -o-box-shadow: @value;
  -moz-box-shadow: @value;
  -ms-box-shadow: @value;
  box-shadow: @value;
}
/*retina 图片背景(代码来源：https://gist.github.com/brandonb927/3874012)*/
.background-image-2x(@image, @width, @height, @repeat: no-repeat) {
  @filename  : ~`/(.*)\.(jpg|jpeg|png|gif)/.exec(@{image})[1]`;
  @extension : ~`/(.*)\.(jpg|jpeg|png|gif)/.exec(@{image})[2]`;
  background-image: ~`"url(@{filename}.@{extension})"`;
  background-repeat: @repeat;
  @media
    only screen and (-webkit-min-device-pixel-ratio: 2),
    only screen and (   min--moz-device-pixel-ratio: 2),
    only screen and (     -o-min-device-pixel-ratio: 2/1),
    only screen and (        min-device-pixel-ratio: 2),
    only screen and (                min-resolution: 192dpi),
    only screen and (                min-resolution: 2dppx) {
      background-image: ~`"url(@{filename}@2x.@{extension})"`;
      background-size: @width @height;
  }
}
/*keyframe mixin(代码来源：http://codepen.io/zvuc/pen/xvoys)*/
.keyframes(@name; @arguments) {
  @-moz-keyframes @name { @arguments(); }
  @-o-keyframes @name { @arguments(); }
  @-ms-keyframes @name { @arguments(); }
  @-webkit-keyframes @name { @arguments(); }
  @keyframes @name { @arguments(); }
}

/*keyframes*/
// 首页名称笔画动画
.keyframes(name-line-1, {
  0%{
    width: 0;
  }
  100%{
    width: 37px;
  }
});
.keyframes(name-line-2, {
  0%{
    height: 0;
  }
  50%{
    height: 0;
  }
  100%{
    height: 49px;
  }
});
.keyframes(name-line-3, {
  0%{
    width: 0;
  }
  80%{
    width: 0;
  }
  100%{
    width: 17px;
  }
});
.keyframes(name-line-4, {
  0%{
    height: 0;
  }
  42.8571429%{
    height: 0;
  }
  100%{
    height: 120px;
  }
});
.keyframes(name-line-5, {
  0%{
    width: 0;
  }
  35%{
    width: 0;
  }
  100%{
    width: 51px;
  }
});
.keyframes(name-line-6, {
  0%{
    width: 0;
  }
  75%{
    width: 0;
  }
  100%{
    width: 14px;
  }
});
.keyframes(fish-shake, {
  0%{
    .transform(rotate(0deg));
  }
  100%{
    .transform(rotate(20deg));
  }
});
.keyframes(sword-wave, {
  0%{
    .transform(rotate(-65deg));
  }
  100%{
    .transform(rotate(0deg));
  }
});
.keyframes(material-transport, {
  0%{
    top: 211px;
    left: 160px;
  }
  66.6666%{
    top: 120px;
    left: 426px;
  }
  100%{
    top: 120px;
    left: 426px;
  }
});
.keyframes(diamond-producing, {
  0%{
    margin-top: 0;
  }
  100%{
    margin-top: 10px;
  }
});
